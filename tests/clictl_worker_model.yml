name: Worker Command TestSuite
testcases:
- name: prepare test
  steps:
  - script: {{.cds.build.cdsctl}} worker model delete myITModel --force

- name: worker model import
  steps:
  - script: {{.cds.build.cdsctl}} worker model import ./tests/fixtures/my_worker_model.yml

- name: worker model show
  steps:
  - script: {{.cds.build.cdsctl}} worker model show myITModel

- name: worker model list
  steps:
  - script: {{.cds.build.cdsctl}} worker model list

- name: cleanup
  steps:
  - script: {{.cds.build.cdsctl}} worker model delete myITModel --force

- name: prepare test openstack model
  steps:
  - script: {{.cds.build.cdsctl}} worker model delete myITModelOS --force

- name: worker model import openstack model
  steps:
  - script: {{.cds.build.cdsctl}} worker model import ./tests/fixtures/my_worker_model_openstack.yml

- name: worker model show
  steps:
  - script: {{.cds.build.cdsctl}} worker model show myITModelOS

- name: worker model list
  steps:
  - script: {{.cds.build.cdsctl}} worker model list

- name: cleanup
  steps:
  - script: {{.cds.build.cdsctl}} worker model delete myITModelOS --force
